local a=game:GetService("ReplicatedStorage")local b=game:GetService("CollectionService")local c=game:GetService("Players")local d=game:GetService("RunService")local e=game:GetService("Workspace")local f=c.LocalPlayer local g=e.CurrentCamera local h=f.Character or f.CharacterAdded:Wait() local i=h:WaitForChild("HumanoidRootPart") local j=getupvalue(getupvalue(getconnections(a.GameEvents.PetEggService.OnClientEvent)[1].Function,1),2)local k=getupvalue(j,1)local l=getupvalue(j,2)local m={}local n={}local o={}local function p(q)for _,r in pairs(k)do if r:GetAttribute("OBJECT_UUID")==q then return r end end end local function s(q,t)local r=p(q)if not r then return end local u=m[q]if not u then return end local v=r:GetAttribute("EggName") or"Unknown"u.Text=(t or"?").." ("..v..")"end local function w(r)if not r:IsA("Instance")then return end if r:GetAttribute("OWNER")~=f.Name then return end local q=r:GetAttribute("OBJECT_UUID")if not q then return end local v=r:GetAttribute("EggName") or"Unknown" local t=l[q]local u=Drawing.new("Text")u.Text=(t or"?").." ("..v..")"u.Size=18 u.Color=Color3.new(1,1,1)u.Outline=true u.OutlineColor=Color3.new(0,0,0)u.Center=true u.Visible=false u.Transparency=0 m[q]=u n[q]=r o[q]=0 end local function x(r)if not r:IsA("Instance")then return end if r:GetAttribute("OWNER")~=f.Name then return end local q=r:GetAttribute("OBJECT_UUID")if not q then return end if m[q]then pcall(function()m[q]:Remove()end) m[q]=nil end n[q]=nil o[q]=nil end local function y()for q,r in pairs(n)do local u=m[q]if not u then goto continue end if not r or not r:IsDescendantOf(e)then o[q]=math.max((o[q]or 0)-0.05,0) if o[q]<=0 then u.Visible=false else u.Transparency=o[q]end else local A,B=g:WorldToViewportPoint(r:GetPivot().Position)local C=(i.Position-r:GetPivot().Position).Magnitude local D=C<=45 and 1 or 0 local E=o[q]or 0 if D>E then o[q]=math.min(E+0.05,D) else o[q]=math.max(E-0.05,D)end u.Transparency=o[q] u.Position=Vector2.new(A,B) u.Visible=B and o[q]>0 local F=math.clamp((C-10)/(45-10),0,1) u.Color=Color3.new(1,1-F,0)end ::continue::end end for _,r in ipairs(b:GetTagged("PetEggServer"))do task.spawn(w,r)end b:GetInstanceAddedSignal("PetEggServer"):Connect(w) b:GetInstanceRemovedSignal("PetEggServer"):Connect(x) local G local H=getconnections(a.GameEvents.EggReadyToHatch_RE.OnClientEvent)[1] if H and H.Function then G=hookfunction(H.Function,newcclosure(function(q,t)s(q,t)return G(q,t)end))end d.PreRender:Connect(y)
